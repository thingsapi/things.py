<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 8.0.1" />
    <title>things.api API documentation</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2264%22%20height%3D%2264%22%20viewBox%3D%2244.5%202.5%2015%2015%22%3E%3Cpath%20d%3D%22M49.351%2021.041c-.233-.721-.546-2.408-.772-4.076-.042-.09-.067-.187-.046-.288-.166-1.347-.277-2.625-.241-3.351-1.378-1.008-2.271-2.586-2.271-4.362%200-.976.272-1.935.788-2.774.057-.094.122-.18.184-.268-.033-.167-.052-.339-.052-.516%200-1.477%201.202-2.679%202.679-2.679.791%200%201.496.352%201.987.9a6.3%206.3%200%200%201%201.001.029c.492-.564%201.207-.929%202.012-.929%201.477%200%202.679%201.202%202.679%202.679a2.65%202.65%200%200%201-.269%201.148c.383.747.595%201.572.595%202.41%200%202.311-1.507%204.29-3.635%205.107.037.699.147%202.27.423%203.294l.137.461c.156%202.136-4.612%205.166-5.199%203.215zm.127-4.919a4.78%204.78%200%200%200%20.775-.584c-.172-.115-.505-.254-.88-.378zm.331%202.302l.828-.502c-.202-.143-.576-.328-.984-.49zm.45%202.157l.701-.403c-.214-.115-.536-.249-.891-.376l.19.779zM49.13%204.141c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm.735-.389a1.15%201.15%200%200%201%20.314.783%201.16%201.16%200%200%201-1.162%201.162c-.457%200-.842-.27-1.032-.653-.026.117-.042.238-.042.362a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.843-.626-1.535-1.436-1.654zm3.076%201.654a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.037-.009-.072-.011-.109-.21.3-.541.508-.935.508a1.16%201.16%200%200%201-1.162-1.162%201.14%201.14%200%200%201%20.474-.912c-.015%200-.03-.005-.045-.005-.926.001-1.679.754-1.679%201.68zm1.861-1.265c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm1.823%204.823c0-.52-.103-1.035-.288-1.52-.466.394-1.06.64-1.717.64-1.144%200-2.116-.725-2.499-1.738-.383%201.012-1.355%201.738-2.499%201.738-.867%200-1.631-.421-2.121-1.062-.307.605-.478%201.267-.478%201.942%200%202.486%202.153%204.51%204.801%204.51s4.801-2.023%204.801-4.51zm-3.032%209.156l-.146-.492c-.276-1.02-.395-2.457-.444-3.268a6.11%206.11%200%200%201-1.18.115%206.01%206.01%200%200%201-2.536-.562l.006.175c.802.215%201.848.612%202.021%201.25.079.295-.021.601-.274.837l-.598.501c.667.304%201.243.698%201.311%201.179.02.144.022.507-.393.787l-.564.365c1.285.521%201.361.96%201.381%201.126.018.142.011.496-.427.746l-.854.489c.064-1.19%201.985-2.585%202.697-3.248zM49.34%209.925c0-.667%201-.667%201%200%200%20.653.818%201.205%201.787%201.205s1.787-.552%201.787-1.205c0-.667%201-.667%201%200%200%201.216-1.25%202.205-2.787%202.205s-2.787-.989-2.787-2.205zm-.887-7.633c-.093.077-.205.114-.317.114a.5.5%200%200%201-.318-.886L49.183.397a.5.5%200%200%201%20.703.068.5.5%200%200%201-.069.703zm7.661-.065c-.086%200-.173-.022-.253-.068l-1.523-.893c-.575-.337-.069-1.2.506-.863l1.523.892a.5.5%200%200%201%20.179.685c-.094.158-.261.247-.432.247z%22%20fill%3D%22%233bb300%22/%3E%3C/svg%3E"/>


<style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
<style>/*! pygments syntax highlighting */pre{line-height:125%;}td.linenos pre{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}span.linenos{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}td.linenos pre.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}span.linenos.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}.pdoc .hll{background-color:#ffffcc}.pdoc{background:#f8f8f8;}.pdoc .c{color:#408080; font-style:italic}.pdoc .err{border:1px solid #FF0000}.pdoc .k{color:#008000; font-weight:bold}.pdoc .o{color:#666666}.pdoc .ch{color:#408080; font-style:italic}.pdoc .cm{color:#408080; font-style:italic}.pdoc .cp{color:#BC7A00}.pdoc .cpf{color:#408080; font-style:italic}.pdoc .c1{color:#408080; font-style:italic}.pdoc .cs{color:#408080; font-style:italic}.pdoc .gd{color:#A00000}.pdoc .ge{font-style:italic}.pdoc .gr{color:#FF0000}.pdoc .gh{color:#000080; font-weight:bold}.pdoc .gi{color:#00A000}.pdoc .go{color:#888888}.pdoc .gp{color:#000080; font-weight:bold}.pdoc .gs{font-weight:bold}.pdoc .gu{color:#800080; font-weight:bold}.pdoc .gt{color:#0044DD}.pdoc .kc{color:#008000; font-weight:bold}.pdoc .kd{color:#008000; font-weight:bold}.pdoc .kn{color:#008000; font-weight:bold}.pdoc .kp{color:#008000}.pdoc .kr{color:#008000; font-weight:bold}.pdoc .kt{color:#B00040}.pdoc .m{color:#666666}.pdoc .s{color:#BA2121}.pdoc .na{color:#7D9029}.pdoc .nb{color:#008000}.pdoc .nc{color:#0000FF; font-weight:bold}.pdoc .no{color:#880000}.pdoc .nd{color:#AA22FF}.pdoc .ni{color:#999999; font-weight:bold}.pdoc .ne{color:#D2413A; font-weight:bold}.pdoc .nf{color:#0000FF}.pdoc .nl{color:#A0A000}.pdoc .nn{color:#0000FF; font-weight:bold}.pdoc .nt{color:#008000; font-weight:bold}.pdoc .nv{color:#19177C}.pdoc .ow{color:#AA22FF; font-weight:bold}.pdoc .w{color:#bbbbbb}.pdoc .mb{color:#666666}.pdoc .mf{color:#666666}.pdoc .mh{color:#666666}.pdoc .mi{color:#666666}.pdoc .mo{color:#666666}.pdoc .sa{color:#BA2121}.pdoc .sb{color:#BA2121}.pdoc .sc{color:#BA2121}.pdoc .dl{color:#BA2121}.pdoc .sd{color:#BA2121; font-style:italic}.pdoc .s2{color:#BA2121}.pdoc .se{color:#BB6622; font-weight:bold}.pdoc .sh{color:#BA2121}.pdoc .si{color:#BB6688; font-weight:bold}.pdoc .sx{color:#008000}.pdoc .sr{color:#BB6688}.pdoc .s1{color:#BA2121}.pdoc .ss{color:#19177C}.pdoc .bp{color:#008000}.pdoc .fm{color:#0000FF}.pdoc .vc{color:#19177C}.pdoc .vg{color:#19177C}.pdoc .vi{color:#19177C}.pdoc .vm{color:#19177C}.pdoc .il{color:#666666}</style>
<style>/*! pdoc */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f7f7f7;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}body{background-color:var(--pdoc-background);}html, body{width:100%;height:100%;}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}.git-button{display:none !important;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}#navtoggle{display:none;}}#togglestate{display:none;}nav.pdoc{--pad:1.75rem;--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc li{display:block;margin:0;padding:.2rem 0 .2rem var(--indent);transition:all 100ms;}nav.pdoc > div > ul > li{padding-left:0;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}html, main{scroll-behavior:smooth;}.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{background-color:var(--code);border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{--shift:-40px;text-align:right;margin-top:var(--shift);margin-bottom:calc(0px - var(--shift));clear:both;filter:opacity(1);}.pdoc details:not([open]){height:0;overflow:visible;}.pdoc details > summary{font-size:.75rem;cursor:pointer;color:var(--muted);border-width:0;padding:0 .7em;display:inline-block;display:inline list-item;user-select:none;}.pdoc details > summary:focus{outline:0;}.pdoc details > div{margin-top:calc(0px - var(--shift) / 2);text-align:left;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc > section:first-of-type > .docstring{margin-bottom:3rem;}.pdoc .docstring pre{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:1rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}</style>
</head>
<body>        <nav class="pdoc">
            <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
            <input id="togglestate" type="checkbox">
            <div>
                        <a class="pdoc-button module-list-button" href="../things.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                            &nbsp;things</a>


                        <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                               pattern=".+" required>



                    <h2>API Documentation</h2>
                        <ul class="memberlist">
            <li>
                    <a class="function" href="#tasks">tasks</a>
            </li>
            <li>
                    <a class="function" href="#areas">areas</a>
            </li>
            <li>
                    <a class="function" href="#tags">tags</a>
            </li>
            <li>
                    <a class="function" href="#checklist_items">checklist_items</a>
            </li>
            <li>
                    <a class="function" href="#search">search</a>
            </li>
            <li>
                    <a class="function" href="#get">get</a>
            </li>
            <li>
                    <a class="function" href="#todos">todos</a>
            </li>
            <li>
                    <a class="function" href="#projects">projects</a>
            </li>
            <li>
                    <a class="function" href="#inbox">inbox</a>
            </li>
            <li>
                    <a class="function" href="#today">today</a>
            </li>
            <li>
                    <a class="function" href="#upcoming">upcoming</a>
            </li>
            <li>
                    <a class="function" href="#anytime">anytime</a>
            </li>
            <li>
                    <a class="function" href="#someday">someday</a>
            </li>
            <li>
                    <a class="function" href="#logbook">logbook</a>
            </li>
            <li>
                    <a class="function" href="#trash">trash</a>
            </li>
            <li>
                    <a class="function" href="#canceled">canceled</a>
            </li>
            <li>
                    <a class="function" href="#completed">completed</a>
            </li>
            <li>
                    <a class="function" href="#deadlines">deadlines</a>
            </li>
            <li>
                    <a class="function" href="#last">last</a>
            </li>
            <li>
                    <a class="function" href="#token">token</a>
            </li>
            <li>
                    <a class="function" href="#link">link</a>
            </li>
            <li>
                    <a class="function" href="#show">show</a>
            </li>
            <li>
                    <a class="function" href="#pop_database">pop_database</a>
            </li>
    </ul>



                    <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
                        built with <span class="visually-hidden">pdoc</span><img
                            alt="pdoc logo"
                            src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
                    </a>
            </div>
        </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
<a href="./../things.html">things</a><wbr>.api    </h1>

                        <div class="docstring"><p>Module implementing the Things API.</p>

<p>The terms of the API aim to match those used in the Things app and
Things URL Scheme. In some specific cases we instead choose to use terms
that occur in the Things SQL database to closer reflect its underlying
data structures. Whenever that happens, we define the new term here.</p>
</div>

                        <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Module implementing the Things API.</span>

<span class="sd">The terms of the API aim to match those used in the Things app and</span>
<span class="sd">Things URL Scheme. In some specific cases we instead choose to use terms</span>
<span class="sd">that occur in the Things SQL database to closer reflect its underlying</span>
<span class="sd">data structures. Whenever that happens, we define the new term here.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">shlex</span> <span class="kn">import</span> <span class="n">quote</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">things.database</span> <span class="kn">import</span> <span class="n">Database</span>


<span class="c1"># --------------------------------------------------</span>
<span class="c1"># Core functions</span>
<span class="c1"># --------------------------------------------------</span>


<span class="k">def</span> <span class="nf">tasks</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_items</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>  <span class="c1"># noqa: C901</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read tasks into dicts.</span>

<span class="sd">    Note: &quot;task&quot; is a technical term used in the database to refer to a</span>
<span class="sd">    to-do, project, or heading. For details, check the &quot;type&quot;-parameter.</span>

<span class="sd">    Per default, only tasks marked as incomplete are included. If you</span>
<span class="sd">    want to include completed or canceled tasks in the result, check the</span>
<span class="sd">    &quot;status&quot;-parameter.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    uuid : str or None, optional</span>
<span class="sd">        Any valid task uuid. If None, then return all tasks matched.</span>

<span class="sd">    include_items : bool, default False</span>
<span class="sd">        Include items contained within a task. These might include</span>
<span class="sd">        checklist items, headings, and to-dos.</span>

<span class="sd">    type : {&#39;to-do&#39;, &#39;heading&#39;, &#39;project&#39;, None}, optional</span>
<span class="sd">        Only return a specific type of task:</span>
<span class="sd">        - `&#39;to-do&#39;`:    may have a checklist; may be in an area and have tags.</span>
<span class="sd">        - `&#39;project&#39;`:  may have to-dos and headings; may be in an area and</span>
<span class="sd">                        have tags.</span>
<span class="sd">        - `&#39;heading&#39;`:  part of a project; groups tasks.</span>
<span class="sd">        - `None` (default): return all types of tasks.</span>

<span class="sd">    status : {&#39;incomplete&#39;, &#39;completed&#39;, &#39;canceled&#39;, None}, optional, \</span>
<span class="sd">        default &#39;incomplete&#39;</span>

<span class="sd">        Only include tasks matching that status. If `status == None`,</span>
<span class="sd">        then include tasks with any status value.</span>

<span class="sd">    start : {&#39;Inbox&#39;, &#39;Anytime&#39;, &#39;Someday&#39;, None}, optional</span>
<span class="sd">        Only include tasks matching that start value. If the argument is</span>
<span class="sd">        `None` (default), then include tasks with any start value.</span>

<span class="sd">    area : str or bool or None, optional</span>
<span class="sd">        Any valid uuid of an area. Only include tasks matching that area.</span>
<span class="sd">        Special cases:</span>
<span class="sd">        - `area == False`, only include tasks _without_ an area.</span>
<span class="sd">        - `area == True`, only include tasks _with_ an area.</span>
<span class="sd">        - `area == None` (default), then include all tasks.</span>

<span class="sd">    project : str or bool or None, optional</span>
<span class="sd">        Any valid uuid of a project. Only include tasks matching that project.</span>
<span class="sd">        Special cases:</span>
<span class="sd">        - `project == False`, only include tasks _without_ a project.</span>
<span class="sd">        - `project == True`, only include tasks _with_ a project.</span>
<span class="sd">        - `project == None` (default), then include all tasks.</span>

<span class="sd">    heading : str or None, optional</span>
<span class="sd">        Any valid uuid of a heading. Only include tasks matching that heading.</span>
<span class="sd">        Special cases:</span>
<span class="sd">        - `heading == False`, only include tasks _without_ a heading.</span>
<span class="sd">        - `heading == True`, only include tasks _with_ a heading.</span>
<span class="sd">        - `heading == None` (default), then include all tasks.</span>

<span class="sd">    tag : str or bool or None, optional</span>
<span class="sd">        Any valid title of a tag. Only include tasks matching that tag.</span>
<span class="sd">        Special cases:</span>
<span class="sd">        - `tag == False`, only include tasks _without_ tags.</span>
<span class="sd">        - `tag == True`, only include tasks _with_ tags.</span>
<span class="sd">        - `tag == None` (default), then include all tasks.</span>

<span class="sd">    start_date : bool, str or None, optional</span>
<span class="sd">        - `start_date == False`, only include tasks _without_ a start date.</span>
<span class="sd">        - `start_date == True`, only include tasks with a start date.</span>
<span class="sd">        - `start_date == &#39;future&#39;`, only include tasks with a future start date.</span>
<span class="sd">        - `start_date == &#39;past&#39;`, only include tasks with a past start date.</span>
<span class="sd">          Note: this includes today&#39;s date.</span>
<span class="sd">        - `start_date == None` (default), then include all tasks.</span>

<span class="sd">    deadline : bool, str or None, optional</span>
<span class="sd">        - `deadline == False`, only include tasks _without_ a deadline.</span>
<span class="sd">        - `deadline == True`, only include tasks _with_ a deadline.</span>
<span class="sd">        - `deadline == &#39;future&#39;`, only include tasks with a future deadline.</span>
<span class="sd">        - `deadline == &#39;past&#39;`, only include tasks with a past deadline.</span>
<span class="sd">          Note: this includes today&#39;s date.</span>
<span class="sd">        - `deadline == None` (default), then include all tasks.</span>

<span class="sd">    deadline_suppressed : bool or None, optional</span>
<span class="sd">        &quot;deadline suppressed&quot; is a technical term used in the database.</span>
<span class="sd">        When tasks have an overdue deadline they show up in Today.</span>
<span class="sd">        Some of us &quot;suppress&quot; some tasks, that is, move them out of</span>
<span class="sd">        Today and into Inbox, Anytime, or Someday. For those moved tasks</span>
<span class="sd">        the deadline is said to be suppressed.</span>
<span class="sd">        - `deadline_suppressed == True`, only include tasks with deadlines</span>
<span class="sd">          and whose deadlines have been suppressed.</span>
<span class="sd">        - `deadline_suppressed == False`, include any task _except_ those</span>
<span class="sd">          with suppressed deadlines.</span>
<span class="sd">        - `deadline_suppressed == None` (default), include any task.</span>

<span class="sd">    trashed : bool or None, optional, default False</span>
<span class="sd">        - `trashed == False` (default), only include non-trashed tasks.</span>
<span class="sd">        - `trashed == True`, only include trashed tasks.</span>
<span class="sd">        - `trashed == None`, include both kind of tasks.</span>

<span class="sd">    context_trashed : bool or None, optional, default False</span>
<span class="sd">        Some tasks may be within a context of a project or a heading.</span>
<span class="sd">        This manages how to handle such tasks. The other tasks are not</span>
<span class="sd">        affected by this setting.</span>

<span class="sd">        - `context_trashed == False` (default), for tasks within a context,</span>
<span class="sd">           only return tasks whose context has _not_ been trashed.</span>
<span class="sd">        - `context_trashed == True`, for tasks within a context,</span>
<span class="sd">           only return tasks whose context has been trashed.</span>
<span class="sd">        - `context_trashed == None`, include both kind of tasks.</span>

<span class="sd">    last : str, optional</span>
<span class="sd">        Limit returned tasks to tasks created within the last X days,</span>
<span class="sd">        weeks, or years. For example: &#39;3d&#39;, &#39;5w&#39;, or &#39;1y&#39;.</span>

<span class="sd">        Takes as input an offset string of the format &#39;X[d/w/y]&#39; where X</span>
<span class="sd">        is a non-negative  integer that is followed by &#39;d&#39;, &#39;w&#39;, or &#39;y&#39;</span>
<span class="sd">        which stand for &#39;days&#39;, &#39;weeks&#39;, and &#39;years&#39;, respectively.</span>

<span class="sd">    search_query : str, optional</span>
<span class="sd">        The string value is passed to the SQL LIKE operator. It can thus</span>
<span class="sd">        include placeholders such as &#39;%&#39; and &#39;_&#39;. Per default, it is</span>
<span class="sd">        wrapped in &#39;% ... %&#39;.</span>

<span class="sd">        Currently titles and notes of to-dos, projects, headings, and areas</span>
<span class="sd">        are taken into account.</span>

<span class="sd">    index : {&#39;index&#39;, &#39;todayIndex&#39;}, default &#39;index&#39;</span>
<span class="sd">        Database field to order result by.</span>

<span class="sd">    count_only : bool, default False</span>
<span class="sd">        Only output length of result. This is done by a SQL COUNT query.</span>

<span class="sd">    print_sql : bool, default False</span>
<span class="sd">        Print every SQL query performed. Some may contain &#39;?&#39; and &#39;:&#39;</span>
<span class="sd">        characters, which correspond to SQLite parameter tokens.</span>
<span class="sd">        See https://www.sqlite.org/lang_expr.html#varparam</span>

<span class="sd">    filepath : str, optional</span>
<span class="sd">        Any valid path of a SQLite database file generated by the Things app.</span>
<span class="sd">        If the environment variable `THINGSDB` is set, then use that path.</span>
<span class="sd">        Otherwise, access the default database path.</span>

<span class="sd">    database : things.database.Database, optional</span>
<span class="sd">        Any valid database object previously instantiated.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of dict (default)</span>
<span class="sd">        Representing multiple tasks.</span>
<span class="sd">    dict (if `uuid` is given)</span>
<span class="sd">        Representing a single task.</span>
<span class="sd">    int (`count_only == True`)</span>
<span class="sd">        Count of matching Tasks.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.tasks()</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;6Hf2qWBjWhq7B1xszwdo34&#39;, &#39;type&#39;: &#39;to-do&#39;, &#39;title&#39;:...</span>
<span class="sd">    &gt;&gt;&gt; things.tasks(&#39;DfYoiXcNLQssk9DkSoJV3Y&#39;)</span>
<span class="sd">    {&#39;uuid&#39;: &#39;DfYoiXcNLQssk9DkSoJV3Y&#39;, &#39;type&#39;: &#39;to-do&#39;, &#39;title&#39;: ...</span>
<span class="sd">    &gt;&gt;&gt; things.tasks(area=&#39;hIo1FJlAYGKt1Yj38vzKc3&#39;, include_items=True)</span>
<span class="sd">    []</span>
<span class="sd">    &gt;&gt;&gt; things.tasks(status=&#39;completed&#39;, count_only=True)</span>
<span class="sd">    10</span>
<span class="sd">    &gt;&gt;&gt; things.tasks(status=&#39;completed&#39;, last=&#39;1w&#39;, count_only=True)</span>
<span class="sd">    0</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_tasks</span><span class="p">(</span>
        <span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;incomplete&quot;</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;count_only&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="c1"># overwrite `include_items` if fetching a single task.</span>
    <span class="k">if</span> <span class="n">uuid</span><span class="p">:</span>
        <span class="n">include_items</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
        <span class="c1"># TK: How costly of an operation is it to do this for every task?</span>
        <span class="c1"># IF costly, then can it be made significantly more efficient</span>
        <span class="c1"># by optimizing SQL calls?</span>

        <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">):</span>
            <span class="n">task</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_tags</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">include_items</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># include items</span>
        <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;to-do&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checklist&quot;</span><span class="p">):</span>
                <span class="n">task</span><span class="p">[</span><span class="s2">&quot;checklist&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_checklist_items</span><span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;project&quot;</span><span class="p">:</span>
            <span class="n">project</span> <span class="o">=</span> <span class="n">task</span>
            <span class="n">project</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
                <span class="n">project</span><span class="o">=</span><span class="n">project</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span>
                <span class="n">context_trashed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">include_items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># to-dos without headings appear before headings in app</span>
            <span class="n">items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;heading&quot;</span><span class="p">:</span>
            <span class="n">heading</span> <span class="o">=</span> <span class="n">task</span>
            <span class="n">heading</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
                <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;to-do&quot;</span><span class="p">,</span>
                <span class="n">heading</span><span class="o">=</span><span class="n">heading</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span>
                <span class="n">context_trashed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">include_items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="n">uuid</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">areas</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_items</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read areas into dicts.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    uuid : str or None, optional</span>
<span class="sd">        Any valid uuid of an area. If None, then return all areas.</span>

<span class="sd">    include_items : bool, default False</span>
<span class="sd">        Include tasks and projects in each area.</span>

<span class="sd">    tag : str or bool or None, optional</span>
<span class="sd">        Any valid title of a tag. Only include areas matching that tag.</span>
<span class="sd">        Special cases:</span>
<span class="sd">        - `tag == False`, only include areas _without_ tags.</span>
<span class="sd">        - `tag == True`, only include areas _with_ tags.</span>
<span class="sd">        - `tag == None`, then ignore any tags present, that is,</span>
<span class="sd">           include areas both with and without tags.</span>

<span class="sd">    count_only : bool, default False</span>
<span class="sd">        Only output length of result. This is done by a SQL COUNT query.</span>

<span class="sd">    filepath : str, optional</span>
<span class="sd">        Any valid path of a SQLite database file generated by the Things app.</span>
<span class="sd">        If no path is provided, then access the default database path.</span>

<span class="sd">    database : things.database.Database, optional</span>
<span class="sd">        Any valid `things.database.Database` object previously instantiated.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of dict (default)</span>
<span class="sd">        Representing Things areas.</span>
<span class="sd">    dict (if `uuid` is given)</span>
<span class="sd">        Representing a single Things area.</span>
<span class="sd">    int (`count_only == True`)</span>
<span class="sd">        Count of matching areas.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.areas()</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;Y3JC4XeyGWxzDocQL4aobo&#39;, &#39;type&#39;: &#39;area&#39;, &#39;title&#39;: &#39;Area 3&#39;}, ...</span>
<span class="sd">    &gt;&gt;&gt; things.areas(tag=&#39;Home&#39;)</span>
<span class="sd">    []</span>
<span class="sd">    &gt;&gt;&gt; things.areas(uuid=&#39;DciSFacytdrNG1nRaMJPgY&#39;)</span>
<span class="sd">    {&#39;uuid&#39;: &#39;DciSFacytdrNG1nRaMJPgY&#39;, &#39;type&#39;: &#39;area&#39;, &#39;title&#39;: &#39;Area 1&#39;, ...</span>
<span class="sd">    &gt;&gt;&gt; things.areas(include_items=True, tag=&#39;Errand&#39;)</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;DciSFacytdrNG1nRaMJPgY&#39;, &#39;type&#39;: &#39;area&#39;, &#39;title&#39;: &#39;Area 1&#39;, ...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_areas</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;count_only&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">for</span> <span class="n">area</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">area</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">):</span>
            <span class="n">area</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_tags</span><span class="p">(</span><span class="n">area</span><span class="o">=</span><span class="n">area</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">include_items</span><span class="p">:</span>
            <span class="n">area</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
                <span class="n">area</span><span class="o">=</span><span class="n">area</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span> <span class="n">include_items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="n">database</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="n">uuid</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">tags</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_items</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read tags into dicts.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    title : str, optional</span>
<span class="sd">        Any valid title of a tag. Include all items of said tag.</span>
<span class="sd">        If None, then return all tags.</span>

<span class="sd">    include_items : bool, default False</span>
<span class="sd">        For each tag, include items tagged with that tag.</span>
<span class="sd">        Items may include areas, tasks, and projects.</span>

<span class="sd">    area : str, optional</span>
<span class="sd">        Valid uuid of an area. Return tags of said area.</span>

<span class="sd">    task : str, optional</span>
<span class="sd">        Valid uuid of a task. Return tags of said task.</span>

<span class="sd">    titles_only : bool, default False</span>
<span class="sd">        If True, only return list of titles of tags.</span>

<span class="sd">    filepath : str, optional</span>
<span class="sd">        Any valid path of a SQLite database file generated by the Things app.</span>
<span class="sd">        If no path is provided, then access the default database path.</span>

<span class="sd">    database : things.database.Database, optional</span>
<span class="sd">        Any valid database object previously instantiated.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of dict (default)</span>
<span class="sd">        Representing tags.</span>
<span class="sd">    list of str (if `titles_only == True` or area / task is given)</span>
<span class="sd">        Representing tag titles.</span>
<span class="sd">    dict (if `title` is given)</span>
<span class="sd">        Representing a single Things tag.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.tags()</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;H96sVJwE7VJveAnv7itmux&#39;, &#39;type&#39;: &#39;tag&#39;, &#39;title&#39;: &#39;Errand&#39;, ...</span>
<span class="sd">    &gt;&gt;&gt; things.tags(&#39;Home&#39;)</span>
<span class="sd">    {&#39;uuid&#39;: &#39;CK9dARrf2ezbFvrVUUxkHE&#39;, &#39;type&#39;: &#39;tag&#39;, &#39;title&#39;: &#39;Home&#39;, ...</span>
<span class="sd">    &gt;&gt;&gt; things.tags(include_items=True)</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;H96sVJwE7VJveAnv7itmux&#39;, &#39;type&#39;: &#39;tag&#39;, &#39;title&#39;: &#39;Errand&#39;, ...</span>
<span class="sd">    &gt;&gt;&gt; things.tags(task=&#39;2Ukg8I2nLukhyEM7wYiBeb&#39;)</span>
<span class="sd">    []</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_tags</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">include_items</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
            <span class="n">tag_title</span> <span class="o">=</span> <span class="n">tag</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
            <span class="n">tag</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="o">*</span><span class="n">areas</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag_title</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">),</span>
                <span class="o">*</span><span class="n">tasks</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag_title</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">),</span>
            <span class="p">]</span>

    <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">checklist_items</span><span class="p">(</span><span class="n">todo_uuid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read checklist items of to-dos into dicts.</span>

<span class="sd">    Note: checklists are contained in the return value of</span>
<span class="sd">    `things.todos(todo_uuid)` and `things.tasks(todo_uuid)`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    todo_uuid : str, optional</span>
<span class="sd">        A valid to-do uuid.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of dict</span>
<span class="sd">        Checklist items.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">database</span><span class="o">.</span><span class="n">get_checklist_items</span><span class="p">(</span><span class="n">todo_uuid</span><span class="o">=</span><span class="n">todo_uuid</span><span class="p">)</span>


<span class="c1"># --------------------------------------------------</span>
<span class="c1"># Utility API functions derived from above</span>
<span class="c1"># --------------------------------------------------</span>


<span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Search tasks in the database.</span>

<span class="sd">    Currently any part of a title and note of a to-do, project,</span>
<span class="sd">    heading, or area is matched.</span>

<span class="sd">    See the `search_query` parameter of `things.api.tasks` for details.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.search(&#39;Today%yellow&#39;)</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;6Hf2qWBjWhq7B1xszwdo34&#39;,</span>
<span class="sd">      &#39;type&#39;: &#39;to-do&#39;,</span>
<span class="sd">      &#39;title&#39;: &#39;Upcoming To-Do in Today (yellow)&#39;,</span>
<span class="sd">      &#39;status&#39;: &#39;incomplete&#39;,</span>
<span class="sd">      &#39;notes&#39;: &#39;&#39;,</span>
<span class="sd">      ...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">search_query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">uuid</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Find an object by uuid. If not found, return `default`.</span>

<span class="sd">    Currently supports tasks, projects, headings, areas, and tags.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">areas</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tags</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">tag</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">uuid</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tag</span>

    <span class="k">return</span> <span class="n">default</span>


<span class="c1"># Filter by object type</span>


<span class="k">def</span> <span class="nf">todos</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read to-dos into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;to-do&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">projects</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read projects into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;project&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="c1"># Filter by collections in the Things app sidebar.</span>


<span class="k">def</span> <span class="nf">inbox</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Inbox into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;Inbox&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">today</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Today&#39;s tasks into dicts.</span>

<span class="sd">    Note: The Things database reflects the state of the Things app when</span>
<span class="sd">    it was last opened. For the Today tasks that means the database</span>
<span class="sd">    might not be up to date anymore if you didn&#39;t open the app recently.</span>
<span class="sd">    To get around this limitation, we here make a prediction of what</span>
<span class="sd">    tasks would show up in Today if you were to open the app right now.</span>
<span class="sd">    This prediction does not include repeating tasks at this time.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;database&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">database</span>

    <span class="n">regular_today_tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
        <span class="n">start_date</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">start</span><span class="o">=</span><span class="s2">&quot;Anytime&quot;</span><span class="p">,</span>
        <span class="n">index</span><span class="o">=</span><span class="s2">&quot;todayIndex&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Predictions of new to-dos indicated by a yellow dot in the app.</span>

    <span class="n">unconfirmed_scheduled_tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
        <span class="n">start_date</span><span class="o">=</span><span class="s2">&quot;past&quot;</span><span class="p">,</span>
        <span class="n">start</span><span class="o">=</span><span class="s2">&quot;Someday&quot;</span><span class="p">,</span>
        <span class="n">index</span><span class="o">=</span><span class="s2">&quot;todayIndex&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">unconfirmed_overdue_tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
        <span class="n">start_date</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">deadline</span><span class="o">=</span><span class="s2">&quot;past&quot;</span><span class="p">,</span>
        <span class="n">deadline_suppressed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">[</span>
        <span class="o">*</span><span class="n">regular_today_tasks</span><span class="p">,</span>
        <span class="o">*</span><span class="n">unconfirmed_scheduled_tasks</span><span class="p">,</span>
        <span class="o">*</span><span class="n">unconfirmed_overdue_tasks</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">result</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">task</span><span class="p">:</span> <span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;today_index&quot;</span><span class="p">],</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;start_date&quot;</span><span class="p">]))</span>

    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">upcoming</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Upcoming tasks into dicts.</span>

<span class="sd">    Note: unscheduled tasks with a deadline are not included here.</span>
<span class="sd">    See the `things.api.deadline` function instead.</span>

<span class="sd">    For details on parameters, see `things.api.tasks`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">start_date</span><span class="o">=</span><span class="s2">&quot;future&quot;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s2">&quot;Someday&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">anytime</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Anytime tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;Anytime&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">someday</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Someday tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">start_date</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s2">&quot;Someday&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">logbook</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Logbook tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">canceled</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">),</span> <span class="o">*</span><span class="n">completed</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)]</span>
    <span class="n">result</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">task</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;stop_date&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">trash</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Trash tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span>
        <span class="n">trashed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">context_trashed</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;context_trashed&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="n">status</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>


<span class="c1"># Filter by various task properties</span>


<span class="k">def</span> <span class="nf">canceled</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read canceled tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s2">&quot;canceled&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">completed</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read completed tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.completed(count_only=True)</span>
<span class="sd">    10</span>
<span class="sd">    &gt;&gt;&gt; things.completed(type=&#39;project&#39;, count_only=True)</span>
<span class="sd">    0</span>
<span class="sd">    &gt;&gt;&gt; things.completed(type=&#39;to-do&#39;, last=&#39;1w&#39;)</span>
<span class="sd">    []</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s2">&quot;completed&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">deadlines</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read tasks with deadlines into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span><span class="n">deadline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">result</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">task</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;deadline&quot;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read tasks created within last X days, weeks, or years into dicts.</span>

<span class="sd">    Per default, only incomplete tasks are included, but do see</span>
<span class="sd">    `things.api.tasks` for details on the optional parameters.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    offset : str</span>
<span class="sd">        A valid date offset such as &#39;3d&#39;, &#39;5w&#39;, or &#39;1y&#39;.</span>
<span class="sd">        For details, see the `last` parameter of `things.api.tasks`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of dict</span>
<span class="sd">        Tasks within offset ordered by creation date. Newest first.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.last(&#39;3d&#39;)</span>
<span class="sd">    []</span>
<span class="sd">    &gt;&gt;&gt; things.last(&#39;1w&#39;, status=&#39;completed&#39;)</span>
<span class="sd">    []</span>
<span class="sd">    &gt;&gt;&gt; things.last(&#39;1y&#39;, tag=&#39;Important&#39;, status=&#39;completed&#39;, count_only=True)</span>
<span class="sd">    0</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">offset</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid offset type: </span><span class="si">{</span><span class="n">offset</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span><span class="n">last</span><span class="o">=</span><span class="n">offset</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
        <span class="n">result</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">task</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>


<span class="c1"># Interact with Things app</span>


<span class="k">def</span> <span class="nf">token</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read the Things URL scheme authentication token.</span>

<span class="sd">    You can make good use of this token to modify existing Things data</span>
<span class="sd">    using the Things URL Scheme. For details, see</span>
<span class="sd">    [here](https://culturedcode.com/things/help/url-scheme/).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">database</span><span class="o">.</span><span class="n">get_url_scheme_auth_token</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">link</span><span class="p">(</span><span class="n">uuid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a things:///show?id=uuid link.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;things:///show?id=</span><span class="si">{</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span>


<span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="n">uuid</span><span class="p">):</span>  <span class="c1"># noqa</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Show a certain uuid in the Things app.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    uuid : str</span>
<span class="sd">        A valid uuid of any Things object.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; tag = things.tags(&#39;Home&#39;)</span>
<span class="sd">    &gt;&gt;&gt; things.show(tag[&#39;uuid&#39;])  # doctest: +SKIP</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">uri</span> <span class="o">=</span> <span class="n">link</span><span class="p">(</span><span class="n">uuid</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;open </span><span class="si">{</span><span class="n">quote</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="c1"># Helper functions</span>


<span class="k">def</span> <span class="nf">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Instantiate non-default database from `kwargs` if provided.&quot;&quot;&quot;</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;filepath&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;database&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">print_sql</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;print_sql&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">database</span><span class="p">:</span>
        <span class="n">database</span> <span class="o">=</span> <span class="n">Database</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">filepath</span><span class="p">,</span> <span class="n">print_sql</span><span class="o">=</span><span class="n">print_sql</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">database</span>
</pre></div>

        </details>

            </section>
                <section id="tasks">
                            <div class="attr function"><a class="headerlink" href="#tasks">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">tasks</span><span class="signature">(uuid=None, include_items=False, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">tasks</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_items</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>  <span class="c1"># noqa: C901</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read tasks into dicts.</span>

<span class="sd">    Note: &quot;task&quot; is a technical term used in the database to refer to a</span>
<span class="sd">    to-do, project, or heading. For details, check the &quot;type&quot;-parameter.</span>

<span class="sd">    Per default, only tasks marked as incomplete are included. If you</span>
<span class="sd">    want to include completed or canceled tasks in the result, check the</span>
<span class="sd">    &quot;status&quot;-parameter.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    uuid : str or None, optional</span>
<span class="sd">        Any valid task uuid. If None, then return all tasks matched.</span>

<span class="sd">    include_items : bool, default False</span>
<span class="sd">        Include items contained within a task. These might include</span>
<span class="sd">        checklist items, headings, and to-dos.</span>

<span class="sd">    type : {&#39;to-do&#39;, &#39;heading&#39;, &#39;project&#39;, None}, optional</span>
<span class="sd">        Only return a specific type of task:</span>
<span class="sd">        - `&#39;to-do&#39;`:    may have a checklist; may be in an area and have tags.</span>
<span class="sd">        - `&#39;project&#39;`:  may have to-dos and headings; may be in an area and</span>
<span class="sd">                        have tags.</span>
<span class="sd">        - `&#39;heading&#39;`:  part of a project; groups tasks.</span>
<span class="sd">        - `None` (default): return all types of tasks.</span>

<span class="sd">    status : {&#39;incomplete&#39;, &#39;completed&#39;, &#39;canceled&#39;, None}, optional, \</span>
<span class="sd">        default &#39;incomplete&#39;</span>

<span class="sd">        Only include tasks matching that status. If `status == None`,</span>
<span class="sd">        then include tasks with any status value.</span>

<span class="sd">    start : {&#39;Inbox&#39;, &#39;Anytime&#39;, &#39;Someday&#39;, None}, optional</span>
<span class="sd">        Only include tasks matching that start value. If the argument is</span>
<span class="sd">        `None` (default), then include tasks with any start value.</span>

<span class="sd">    area : str or bool or None, optional</span>
<span class="sd">        Any valid uuid of an area. Only include tasks matching that area.</span>
<span class="sd">        Special cases:</span>
<span class="sd">        - `area == False`, only include tasks _without_ an area.</span>
<span class="sd">        - `area == True`, only include tasks _with_ an area.</span>
<span class="sd">        - `area == None` (default), then include all tasks.</span>

<span class="sd">    project : str or bool or None, optional</span>
<span class="sd">        Any valid uuid of a project. Only include tasks matching that project.</span>
<span class="sd">        Special cases:</span>
<span class="sd">        - `project == False`, only include tasks _without_ a project.</span>
<span class="sd">        - `project == True`, only include tasks _with_ a project.</span>
<span class="sd">        - `project == None` (default), then include all tasks.</span>

<span class="sd">    heading : str or None, optional</span>
<span class="sd">        Any valid uuid of a heading. Only include tasks matching that heading.</span>
<span class="sd">        Special cases:</span>
<span class="sd">        - `heading == False`, only include tasks _without_ a heading.</span>
<span class="sd">        - `heading == True`, only include tasks _with_ a heading.</span>
<span class="sd">        - `heading == None` (default), then include all tasks.</span>

<span class="sd">    tag : str or bool or None, optional</span>
<span class="sd">        Any valid title of a tag. Only include tasks matching that tag.</span>
<span class="sd">        Special cases:</span>
<span class="sd">        - `tag == False`, only include tasks _without_ tags.</span>
<span class="sd">        - `tag == True`, only include tasks _with_ tags.</span>
<span class="sd">        - `tag == None` (default), then include all tasks.</span>

<span class="sd">    start_date : bool, str or None, optional</span>
<span class="sd">        - `start_date == False`, only include tasks _without_ a start date.</span>
<span class="sd">        - `start_date == True`, only include tasks with a start date.</span>
<span class="sd">        - `start_date == &#39;future&#39;`, only include tasks with a future start date.</span>
<span class="sd">        - `start_date == &#39;past&#39;`, only include tasks with a past start date.</span>
<span class="sd">          Note: this includes today&#39;s date.</span>
<span class="sd">        - `start_date == None` (default), then include all tasks.</span>

<span class="sd">    deadline : bool, str or None, optional</span>
<span class="sd">        - `deadline == False`, only include tasks _without_ a deadline.</span>
<span class="sd">        - `deadline == True`, only include tasks _with_ a deadline.</span>
<span class="sd">        - `deadline == &#39;future&#39;`, only include tasks with a future deadline.</span>
<span class="sd">        - `deadline == &#39;past&#39;`, only include tasks with a past deadline.</span>
<span class="sd">          Note: this includes today&#39;s date.</span>
<span class="sd">        - `deadline == None` (default), then include all tasks.</span>

<span class="sd">    deadline_suppressed : bool or None, optional</span>
<span class="sd">        &quot;deadline suppressed&quot; is a technical term used in the database.</span>
<span class="sd">        When tasks have an overdue deadline they show up in Today.</span>
<span class="sd">        Some of us &quot;suppress&quot; some tasks, that is, move them out of</span>
<span class="sd">        Today and into Inbox, Anytime, or Someday. For those moved tasks</span>
<span class="sd">        the deadline is said to be suppressed.</span>
<span class="sd">        - `deadline_suppressed == True`, only include tasks with deadlines</span>
<span class="sd">          and whose deadlines have been suppressed.</span>
<span class="sd">        - `deadline_suppressed == False`, include any task _except_ those</span>
<span class="sd">          with suppressed deadlines.</span>
<span class="sd">        - `deadline_suppressed == None` (default), include any task.</span>

<span class="sd">    trashed : bool or None, optional, default False</span>
<span class="sd">        - `trashed == False` (default), only include non-trashed tasks.</span>
<span class="sd">        - `trashed == True`, only include trashed tasks.</span>
<span class="sd">        - `trashed == None`, include both kind of tasks.</span>

<span class="sd">    context_trashed : bool or None, optional, default False</span>
<span class="sd">        Some tasks may be within a context of a project or a heading.</span>
<span class="sd">        This manages how to handle such tasks. The other tasks are not</span>
<span class="sd">        affected by this setting.</span>

<span class="sd">        - `context_trashed == False` (default), for tasks within a context,</span>
<span class="sd">           only return tasks whose context has _not_ been trashed.</span>
<span class="sd">        - `context_trashed == True`, for tasks within a context,</span>
<span class="sd">           only return tasks whose context has been trashed.</span>
<span class="sd">        - `context_trashed == None`, include both kind of tasks.</span>

<span class="sd">    last : str, optional</span>
<span class="sd">        Limit returned tasks to tasks created within the last X days,</span>
<span class="sd">        weeks, or years. For example: &#39;3d&#39;, &#39;5w&#39;, or &#39;1y&#39;.</span>

<span class="sd">        Takes as input an offset string of the format &#39;X[d/w/y]&#39; where X</span>
<span class="sd">        is a non-negative  integer that is followed by &#39;d&#39;, &#39;w&#39;, or &#39;y&#39;</span>
<span class="sd">        which stand for &#39;days&#39;, &#39;weeks&#39;, and &#39;years&#39;, respectively.</span>

<span class="sd">    search_query : str, optional</span>
<span class="sd">        The string value is passed to the SQL LIKE operator. It can thus</span>
<span class="sd">        include placeholders such as &#39;%&#39; and &#39;_&#39;. Per default, it is</span>
<span class="sd">        wrapped in &#39;% ... %&#39;.</span>

<span class="sd">        Currently titles and notes of to-dos, projects, headings, and areas</span>
<span class="sd">        are taken into account.</span>

<span class="sd">    index : {&#39;index&#39;, &#39;todayIndex&#39;}, default &#39;index&#39;</span>
<span class="sd">        Database field to order result by.</span>

<span class="sd">    count_only : bool, default False</span>
<span class="sd">        Only output length of result. This is done by a SQL COUNT query.</span>

<span class="sd">    print_sql : bool, default False</span>
<span class="sd">        Print every SQL query performed. Some may contain &#39;?&#39; and &#39;:&#39;</span>
<span class="sd">        characters, which correspond to SQLite parameter tokens.</span>
<span class="sd">        See https://www.sqlite.org/lang_expr.html#varparam</span>

<span class="sd">    filepath : str, optional</span>
<span class="sd">        Any valid path of a SQLite database file generated by the Things app.</span>
<span class="sd">        If the environment variable `THINGSDB` is set, then use that path.</span>
<span class="sd">        Otherwise, access the default database path.</span>

<span class="sd">    database : things.database.Database, optional</span>
<span class="sd">        Any valid database object previously instantiated.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of dict (default)</span>
<span class="sd">        Representing multiple tasks.</span>
<span class="sd">    dict (if `uuid` is given)</span>
<span class="sd">        Representing a single task.</span>
<span class="sd">    int (`count_only == True`)</span>
<span class="sd">        Count of matching Tasks.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.tasks()</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;6Hf2qWBjWhq7B1xszwdo34&#39;, &#39;type&#39;: &#39;to-do&#39;, &#39;title&#39;:...</span>
<span class="sd">    &gt;&gt;&gt; things.tasks(&#39;DfYoiXcNLQssk9DkSoJV3Y&#39;)</span>
<span class="sd">    {&#39;uuid&#39;: &#39;DfYoiXcNLQssk9DkSoJV3Y&#39;, &#39;type&#39;: &#39;to-do&#39;, &#39;title&#39;: ...</span>
<span class="sd">    &gt;&gt;&gt; things.tasks(area=&#39;hIo1FJlAYGKt1Yj38vzKc3&#39;, include_items=True)</span>
<span class="sd">    []</span>
<span class="sd">    &gt;&gt;&gt; things.tasks(status=&#39;completed&#39;, count_only=True)</span>
<span class="sd">    10</span>
<span class="sd">    &gt;&gt;&gt; things.tasks(status=&#39;completed&#39;, last=&#39;1w&#39;, count_only=True)</span>
<span class="sd">    0</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_tasks</span><span class="p">(</span>
        <span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;incomplete&quot;</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;count_only&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="c1"># overwrite `include_items` if fetching a single task.</span>
    <span class="k">if</span> <span class="n">uuid</span><span class="p">:</span>
        <span class="n">include_items</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
        <span class="c1"># TK: How costly of an operation is it to do this for every task?</span>
        <span class="c1"># IF costly, then can it be made significantly more efficient</span>
        <span class="c1"># by optimizing SQL calls?</span>

        <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">):</span>
            <span class="n">task</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_tags</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">include_items</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># include items</span>
        <span class="k">if</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;to-do&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;checklist&quot;</span><span class="p">):</span>
                <span class="n">task</span><span class="p">[</span><span class="s2">&quot;checklist&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_checklist_items</span><span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;project&quot;</span><span class="p">:</span>
            <span class="n">project</span> <span class="o">=</span> <span class="n">task</span>
            <span class="n">project</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">items</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
                <span class="n">project</span><span class="o">=</span><span class="n">project</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span>
                <span class="n">context_trashed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">include_items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># to-dos without headings appear before headings in app</span>
            <span class="n">items</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;heading&quot;</span><span class="p">:</span>
            <span class="n">heading</span> <span class="o">=</span> <span class="n">task</span>
            <span class="n">heading</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
                <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;to-do&quot;</span><span class="p">,</span>
                <span class="n">heading</span><span class="o">=</span><span class="n">heading</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span>
                <span class="n">context_trashed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">include_items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="n">uuid</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read tasks into dicts.</p>

<p>Note: "task" is a technical term used in the database to refer to a
to-do, project, or heading. For details, check the "type"-parameter.</p>

<p>Per default, only tasks marked as incomplete are included. If you
want to include completed or canceled tasks in the result, check the
"status"-parameter.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>uuid</strong> (str or None, optional):
Any valid task uuid. If None, then return all tasks matched.</li>
<li><strong>include_items</strong> (bool, default False):
Include items contained within a task. These might include
checklist items, headings, and to-dos.</li>
<li><strong>type</strong> ({'to-do', 'heading', 'project', None}, optional):
Only return a specific type of task:
<ul>
<li><code>'to-do'</code>:    may have a checklist; may be in an area and have tags.</li>
<li><code>'project'</code>:  may have to-dos and headings; may be in an area and
           have tags.</li>
<li><code>'heading'</code>:  part of a project; groups tasks.</li>
<li><code>None</code> (default): return all types of tasks.</li>
</ul></li>
<li><strong>status</strong> ({'incomplete', 'completed', 'canceled', None}, optional,         default 'incomplete'):
Only include tasks matching that status. If <code>status == None</code>,
then include tasks with any status value.</li>
<li><strong>start</strong> ({'Inbox', 'Anytime', 'Someday', None}, optional):
Only include tasks matching that start value. If the argument is
<code>None</code> (default), then include tasks with any start value.</li>
<li><strong>area</strong> (str or bool or None, optional):
Any valid uuid of an area. Only include tasks matching that area.
Special cases:
<ul>
<li><code>area == False</code>, only include tasks _without_ an area.</li>
<li><code>area == True</code>, only include tasks _with_ an area.</li>
<li><code>area == None</code> (default), then include all tasks.</li>
</ul></li>
<li><strong>project</strong> (str or bool or None, optional):
Any valid uuid of a project. Only include tasks matching that project.
Special cases:
<ul>
<li><code>project == False</code>, only include tasks _without_ a project.</li>
<li><code>project == True</code>, only include tasks _with_ a project.</li>
<li><code>project == None</code> (default), then include all tasks.</li>
</ul></li>
<li><strong>heading</strong> (str or None, optional):
Any valid uuid of a heading. Only include tasks matching that heading.
Special cases:
<ul>
<li><code>heading == False</code>, only include tasks _without_ a heading.</li>
<li><code>heading == True</code>, only include tasks _with_ a heading.</li>
<li><code>heading == None</code> (default), then include all tasks.</li>
</ul></li>
<li><strong>tag</strong> (str or bool or None, optional):
Any valid title of a tag. Only include tasks matching that tag.
Special cases:
<ul>
<li><code>tag == False</code>, only include tasks _without_ tags.</li>
<li><code>tag == True</code>, only include tasks _with_ tags.</li>
<li><code>tag == None</code> (default), then include all tasks.</li>
</ul></li>
<li><strong>start_date</strong> (bool, str or None, optional):
<ul>
<li><code>start_date == False</code>, only include tasks _without_ a start date.</li>
<li><code>start_date == True</code>, only include tasks with a start date.</li>
<li><code>start_date == 'future'</code>, only include tasks with a future start date.</li>
<li><code>start_date == 'past'</code>, only include tasks with a past start date.
Note: this includes today's date.</li>
<li><code>start_date == None</code> (default), then include all tasks.</li>
</ul></li>
<li><strong>deadline</strong> (bool, str or None, optional):
<ul>
<li><code>deadline == False</code>, only include tasks _without_ a deadline.</li>
<li><code>deadline == True</code>, only include tasks _with_ a deadline.</li>
<li><code>deadline == 'future'</code>, only include tasks with a future deadline.</li>
<li><code>deadline == 'past'</code>, only include tasks with a past deadline.
Note: this includes today's date.</li>
<li><code>deadline == None</code> (default), then include all tasks.</li>
</ul></li>
<li><strong>deadline_suppressed</strong> (bool or None, optional):
"deadline suppressed" is a technical term used in the database.
When tasks have an overdue deadline they show up in Today.
Some of us "suppress" some tasks, that is, move them out of
Today and into Inbox, Anytime, or Someday. For those moved tasks
the deadline is said to be suppressed.
<ul>
<li><code>deadline_suppressed == True</code>, only include tasks with deadlines
and whose deadlines have been suppressed.</li>
<li><code>deadline_suppressed == False</code>, include any task _except_ those
with suppressed deadlines.</li>
<li><code>deadline_suppressed == None</code> (default), include any task.</li>
</ul></li>
<li><strong>trashed</strong> (bool or None, optional, default False):
<ul>
<li><code>trashed == False</code> (default), only include non-trashed tasks.</li>
<li><code>trashed == True</code>, only include trashed tasks.</li>
<li><code>trashed == None</code>, include both kind of tasks.</li>
</ul></li>
<li><p><strong>context_trashed</strong> (bool or None, optional, default False):
Some tasks may be within a context of a project or a heading.
This manages how to handle such tasks. The other tasks are not
affected by this setting.</p>

<ul>
<li><code>context_trashed == False</code> (default), for tasks within a context,
only return tasks whose context has _not_ been trashed.</li>
<li><code>context_trashed == True</code>, for tasks within a context,
only return tasks whose context has been trashed.</li>
<li><code>context_trashed == None</code>, include both kind of tasks.</li>
</ul></li>
<li><p><strong>last</strong> (str, optional):
Limit returned tasks to tasks created within the last X days,
weeks, or years. For example: '3d', '5w', or '1y'.</p>

<p>Takes as input an offset string of the format 'X[d/w/y]' where X
is a non-negative  integer that is followed by 'd', 'w', or 'y'
which stand for 'days', 'weeks', and 'years', respectively.</p></li>
<li><p><strong>search_query</strong> (str, optional):
The string value is passed to the SQL LIKE operator. It can thus
include placeholders such as '%' and '_'. Per default, it is
wrapped in '% ... %'.</p>

<p>Currently titles and notes of to-dos, projects, headings, and areas
are taken into account.</p></li>
<li><strong>index</strong> ({'index', 'todayIndex'}, default 'index'):
Database field to order result by.</li>
<li><strong>count_only</strong> (bool, default False):
Only output length of result. This is done by a SQL COUNT query.</li>
<li><strong>print_sql</strong> (bool, default False):
Print every SQL query performed. Some may contain '?' and ':'
characters, which correspond to SQLite parameter tokens.
See https://www.sqlite.org/lang_expr.html#varparam</li>
<li><strong>filepath</strong> (str, optional):
Any valid path of a SQLite database file generated by the Things app.
If the environment variable <code>THINGSDB</code> is set, then use that path.
Otherwise, access the default database path.</li>
<li><strong>database</strong> (<a href="database.html#Database">things.database.Database</a>, optional):
Any valid database object previously instantiated.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list of dict (default)</strong>: Representing multiple tasks.</li>
<li><strong>dict (if <code>uuid</code> is given)</strong>: Representing a single task.</li>
<li><strong>int (<code>count_only == True</code>)</strong>: Count of matching Tasks.</li>
</ul>

<h6 id="examples">Examples</h6>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">tasks</span><span class="p">()</span>
<span class="go">[{&#39;uuid&#39;: &#39;6Hf2qWBjWhq7B1xszwdo34&#39;, &#39;type&#39;: &#39;to-do&#39;, &#39;title&#39;:...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">tasks</span><span class="p">(</span><span class="s1">&#39;DfYoiXcNLQssk9DkSoJV3Y&#39;</span><span class="p">)</span>
<span class="go">{&#39;uuid&#39;: &#39;DfYoiXcNLQssk9DkSoJV3Y&#39;, &#39;type&#39;: &#39;to-do&#39;, &#39;title&#39;: ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">tasks</span><span class="p">(</span><span class="n">area</span><span class="o">=</span><span class="s1">&#39;hIo1FJlAYGKt1Yj38vzKc3&#39;</span><span class="p">,</span> <span class="n">include_items</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">tasks</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="n">count_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">tasks</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="s1">&#39;1w&#39;</span><span class="p">,</span> <span class="n">count_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">0</span>
</code></pre></div>
</div>


                </section>
                <section id="areas">
                            <div class="attr function"><a class="headerlink" href="#areas">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">areas</span><span class="signature">(uuid=None, include_items=False, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">areas</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_items</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read areas into dicts.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    uuid : str or None, optional</span>
<span class="sd">        Any valid uuid of an area. If None, then return all areas.</span>

<span class="sd">    include_items : bool, default False</span>
<span class="sd">        Include tasks and projects in each area.</span>

<span class="sd">    tag : str or bool or None, optional</span>
<span class="sd">        Any valid title of a tag. Only include areas matching that tag.</span>
<span class="sd">        Special cases:</span>
<span class="sd">        - `tag == False`, only include areas _without_ tags.</span>
<span class="sd">        - `tag == True`, only include areas _with_ tags.</span>
<span class="sd">        - `tag == None`, then ignore any tags present, that is,</span>
<span class="sd">           include areas both with and without tags.</span>

<span class="sd">    count_only : bool, default False</span>
<span class="sd">        Only output length of result. This is done by a SQL COUNT query.</span>

<span class="sd">    filepath : str, optional</span>
<span class="sd">        Any valid path of a SQLite database file generated by the Things app.</span>
<span class="sd">        If no path is provided, then access the default database path.</span>

<span class="sd">    database : things.database.Database, optional</span>
<span class="sd">        Any valid `things.database.Database` object previously instantiated.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of dict (default)</span>
<span class="sd">        Representing Things areas.</span>
<span class="sd">    dict (if `uuid` is given)</span>
<span class="sd">        Representing a single Things area.</span>
<span class="sd">    int (`count_only == True`)</span>
<span class="sd">        Count of matching areas.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.areas()</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;Y3JC4XeyGWxzDocQL4aobo&#39;, &#39;type&#39;: &#39;area&#39;, &#39;title&#39;: &#39;Area 3&#39;}, ...</span>
<span class="sd">    &gt;&gt;&gt; things.areas(tag=&#39;Home&#39;)</span>
<span class="sd">    []</span>
<span class="sd">    &gt;&gt;&gt; things.areas(uuid=&#39;DciSFacytdrNG1nRaMJPgY&#39;)</span>
<span class="sd">    {&#39;uuid&#39;: &#39;DciSFacytdrNG1nRaMJPgY&#39;, &#39;type&#39;: &#39;area&#39;, &#39;title&#39;: &#39;Area 1&#39;, ...</span>
<span class="sd">    &gt;&gt;&gt; things.areas(include_items=True, tag=&#39;Errand&#39;)</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;DciSFacytdrNG1nRaMJPgY&#39;, &#39;type&#39;: &#39;area&#39;, &#39;title&#39;: &#39;Area 1&#39;, ...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_areas</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;count_only&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">for</span> <span class="n">area</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">area</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">):</span>
            <span class="n">area</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_tags</span><span class="p">(</span><span class="n">area</span><span class="o">=</span><span class="n">area</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">include_items</span><span class="p">:</span>
            <span class="n">area</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
                <span class="n">area</span><span class="o">=</span><span class="n">area</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">],</span> <span class="n">include_items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="n">database</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="n">uuid</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read areas into dicts.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>uuid</strong> (str or None, optional):
Any valid uuid of an area. If None, then return all areas.</li>
<li><strong>include_items</strong> (bool, default False):
Include tasks and projects in each area.</li>
<li><strong>tag</strong> (str or bool or None, optional):
Any valid title of a tag. Only include areas matching that tag.
Special cases:
<ul>
<li><code>tag == False</code>, only include areas _without_ tags.</li>
<li><code>tag == True</code>, only include areas _with_ tags.</li>
<li><code>tag == None</code>, then ignore any tags present, that is,
include areas both with and without tags.</li>
</ul></li>
<li><strong>count_only</strong> (bool, default False):
Only output length of result. This is done by a SQL COUNT query.</li>
<li><strong>filepath</strong> (str, optional):
Any valid path of a SQLite database file generated by the Things app.
If no path is provided, then access the default database path.</li>
<li><strong>database</strong> (<a href="database.html#Database">things.database.Database</a>, optional):
Any valid <code><a href="database.html#Database">things.database.Database</a></code> object previously instantiated.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list of dict (default)</strong>: Representing Things areas.</li>
<li><strong>dict (if <code>uuid</code> is given)</strong>: Representing a single Things area.</li>
<li><strong>int (<code>count_only == True</code>)</strong>: Count of matching areas.</li>
</ul>

<h6 id="examples">Examples</h6>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">areas</span><span class="p">()</span>
<span class="go">[{&#39;uuid&#39;: &#39;Y3JC4XeyGWxzDocQL4aobo&#39;, &#39;type&#39;: &#39;area&#39;, &#39;title&#39;: &#39;Area 3&#39;}, ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">areas</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s1">&#39;Home&#39;</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">areas</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="s1">&#39;DciSFacytdrNG1nRaMJPgY&#39;</span><span class="p">)</span>
<span class="go">{&#39;uuid&#39;: &#39;DciSFacytdrNG1nRaMJPgY&#39;, &#39;type&#39;: &#39;area&#39;, &#39;title&#39;: &#39;Area 1&#39;, ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">areas</span><span class="p">(</span><span class="n">include_items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s1">&#39;Errand&#39;</span><span class="p">)</span>
<span class="go">[{&#39;uuid&#39;: &#39;DciSFacytdrNG1nRaMJPgY&#39;, &#39;type&#39;: &#39;area&#39;, &#39;title&#39;: &#39;Area 1&#39;, ...</span>
</code></pre></div>
</div>


                </section>
                <section id="tags">
                            <div class="attr function"><a class="headerlink" href="#tags">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">tags</span><span class="signature">(title=None, include_items=False, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">tags</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">include_items</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read tags into dicts.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    title : str, optional</span>
<span class="sd">        Any valid title of a tag. Include all items of said tag.</span>
<span class="sd">        If None, then return all tags.</span>

<span class="sd">    include_items : bool, default False</span>
<span class="sd">        For each tag, include items tagged with that tag.</span>
<span class="sd">        Items may include areas, tasks, and projects.</span>

<span class="sd">    area : str, optional</span>
<span class="sd">        Valid uuid of an area. Return tags of said area.</span>

<span class="sd">    task : str, optional</span>
<span class="sd">        Valid uuid of a task. Return tags of said task.</span>

<span class="sd">    titles_only : bool, default False</span>
<span class="sd">        If True, only return list of titles of tags.</span>

<span class="sd">    filepath : str, optional</span>
<span class="sd">        Any valid path of a SQLite database file generated by the Things app.</span>
<span class="sd">        If no path is provided, then access the default database path.</span>

<span class="sd">    database : things.database.Database, optional</span>
<span class="sd">        Any valid database object previously instantiated.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of dict (default)</span>
<span class="sd">        Representing tags.</span>
<span class="sd">    list of str (if `titles_only == True` or area / task is given)</span>
<span class="sd">        Representing tag titles.</span>
<span class="sd">    dict (if `title` is given)</span>
<span class="sd">        Representing a single Things tag.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.tags()</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;H96sVJwE7VJveAnv7itmux&#39;, &#39;type&#39;: &#39;tag&#39;, &#39;title&#39;: &#39;Errand&#39;, ...</span>
<span class="sd">    &gt;&gt;&gt; things.tags(&#39;Home&#39;)</span>
<span class="sd">    {&#39;uuid&#39;: &#39;CK9dARrf2ezbFvrVUUxkHE&#39;, &#39;type&#39;: &#39;tag&#39;, &#39;title&#39;: &#39;Home&#39;, ...</span>
<span class="sd">    &gt;&gt;&gt; things.tags(include_items=True)</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;H96sVJwE7VJveAnv7itmux&#39;, &#39;type&#39;: &#39;tag&#39;, &#39;title&#39;: &#39;Errand&#39;, ...</span>
<span class="sd">    &gt;&gt;&gt; things.tags(task=&#39;2Ukg8I2nLukhyEM7wYiBeb&#39;)</span>
<span class="sd">    []</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">get_tags</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">include_items</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
            <span class="n">tag_title</span> <span class="o">=</span> <span class="n">tag</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
            <span class="n">tag</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="o">*</span><span class="n">areas</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag_title</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">),</span>
                <span class="o">*</span><span class="n">tasks</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="n">tag_title</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">),</span>
            <span class="p">]</span>

    <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read tags into dicts.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>title</strong> (str, optional):
Any valid title of a tag. Include all items of said tag.
If None, then return all tags.</li>
<li><strong>include_items</strong> (bool, default False):
For each tag, include items tagged with that tag.
Items may include areas, tasks, and projects.</li>
<li><strong>area</strong> (str, optional):
Valid uuid of an area. Return tags of said area.</li>
<li><strong>task</strong> (str, optional):
Valid uuid of a task. Return tags of said task.</li>
<li><strong>titles_only</strong> (bool, default False):
If True, only return list of titles of tags.</li>
<li><strong>filepath</strong> (str, optional):
Any valid path of a SQLite database file generated by the Things app.
If no path is provided, then access the default database path.</li>
<li><strong>database</strong> (<a href="database.html#Database">things.database.Database</a>, optional):
Any valid database object previously instantiated.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list of dict (default)</strong>: Representing tags.</li>
<li><strong>list of str (if <code>titles_only == True</code> or area / task is given)</strong>: Representing tag titles.</li>
<li><strong>dict (if <code>title</code> is given)</strong>: Representing a single Things tag.</li>
</ul>

<h6 id="examples">Examples</h6>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">tags</span><span class="p">()</span>
<span class="go">[{&#39;uuid&#39;: &#39;H96sVJwE7VJveAnv7itmux&#39;, &#39;type&#39;: &#39;tag&#39;, &#39;title&#39;: &#39;Errand&#39;, ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">tags</span><span class="p">(</span><span class="s1">&#39;Home&#39;</span><span class="p">)</span>
<span class="go">{&#39;uuid&#39;: &#39;CK9dARrf2ezbFvrVUUxkHE&#39;, &#39;type&#39;: &#39;tag&#39;, &#39;title&#39;: &#39;Home&#39;, ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">tags</span><span class="p">(</span><span class="n">include_items</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[{&#39;uuid&#39;: &#39;H96sVJwE7VJveAnv7itmux&#39;, &#39;type&#39;: &#39;tag&#39;, &#39;title&#39;: &#39;Errand&#39;, ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">tags</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="s1">&#39;2Ukg8I2nLukhyEM7wYiBeb&#39;</span><span class="p">)</span>
<span class="go">[]</span>
</code></pre></div>
</div>


                </section>
                <section id="checklist_items">
                            <div class="attr function"><a class="headerlink" href="#checklist_items">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">checklist_items</span><span class="signature">(todo_uuid, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">checklist_items</span><span class="p">(</span><span class="n">todo_uuid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read checklist items of to-dos into dicts.</span>

<span class="sd">    Note: checklists are contained in the return value of</span>
<span class="sd">    `things.todos(todo_uuid)` and `things.tasks(todo_uuid)`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    todo_uuid : str, optional</span>
<span class="sd">        A valid to-do uuid.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of dict</span>
<span class="sd">        Checklist items.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">database</span><span class="o">.</span><span class="n">get_checklist_items</span><span class="p">(</span><span class="n">todo_uuid</span><span class="o">=</span><span class="n">todo_uuid</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read checklist items of to-dos into dicts.</p>

<p>Note: checklists are contained in the return value of
<code><a href="../things.html#todos">things.todos</a>(todo_uuid)</code> and <code><a href="../things.html#tasks">things.tasks</a>(todo_uuid)</code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>todo_uuid</strong> (str, optional):
A valid to-do uuid.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list of dict</strong>: Checklist items.</li>
</ul>
</div>


                </section>
                <section id="search">
                            <div class="attr function"><a class="headerlink" href="#search">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">search</span><span class="signature">(query: str, **kwargs) -&gt; List[Dict]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Search tasks in the database.</span>

<span class="sd">    Currently any part of a title and note of a to-do, project,</span>
<span class="sd">    heading, or area is matched.</span>

<span class="sd">    See the `search_query` parameter of `things.api.tasks` for details.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.search(&#39;Today%yellow&#39;)</span>
<span class="sd">    [{&#39;uuid&#39;: &#39;6Hf2qWBjWhq7B1xszwdo34&#39;,</span>
<span class="sd">      &#39;type&#39;: &#39;to-do&#39;,</span>
<span class="sd">      &#39;title&#39;: &#39;Upcoming To-Do in Today (yellow)&#39;,</span>
<span class="sd">      &#39;status&#39;: &#39;incomplete&#39;,</span>
<span class="sd">      &#39;notes&#39;: &#39;&#39;,</span>
<span class="sd">      ...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">search_query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Search tasks in the database.</p>

<p>Currently any part of a title and note of a to-do, project,
heading, or area is matched.</p>

<p>See the <code>search_query</code> parameter of <code><a href="#tasks">things.api.tasks</a></code> for details.</p>

<h6 id="examples">Examples</h6>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;Today%yellow&#39;</span><span class="p">)</span>
<span class="go">[{&#39;uuid&#39;: &#39;6Hf2qWBjWhq7B1xszwdo34&#39;,</span>
<span class="go">  &#39;type&#39;: &#39;to-do&#39;,</span>
<span class="go">  &#39;title&#39;: &#39;Upcoming To-Do in Today (yellow)&#39;,</span>
<span class="go">  &#39;status&#39;: &#39;incomplete&#39;,</span>
<span class="go">  &#39;notes&#39;: &#39;&#39;,</span>
<span class="go">  ...</span>
</code></pre></div>
</div>


                </section>
                <section id="get">
                            <div class="attr function"><a class="headerlink" href="#get">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get</span><span class="signature">(uuid, default=None, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">uuid</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Find an object by uuid. If not found, return `default`.</span>

<span class="sd">    Currently supports tasks, projects, headings, areas, and tags.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">areas</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tags</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">tag</span><span class="p">[</span><span class="s2">&quot;uuid&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">uuid</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tag</span>

    <span class="k">return</span> <span class="n">default</span>
</pre></div>

        </details>

            <div class="docstring"><p>Find an object by uuid. If not found, return <code>default</code>.</p>

<p>Currently supports tasks, projects, headings, areas, and tags.</p>
</div>


                </section>
                <section id="todos">
                            <div class="attr function"><a class="headerlink" href="#todos">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">todos</span><span class="signature">(uuid=None, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">todos</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read to-dos into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;to-do&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read to-dos into dicts.</p>

<p>See <code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>
</div>


                </section>
                <section id="projects">
                            <div class="attr function"><a class="headerlink" href="#projects">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">projects</span><span class="signature">(uuid=None, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">projects</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read projects into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">uuid</span><span class="o">=</span><span class="n">uuid</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;project&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read projects into dicts.</p>

<p>See <code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>
</div>


                </section>
                <section id="inbox">
                            <div class="attr function"><a class="headerlink" href="#inbox">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">inbox</span><span class="signature">(**kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">inbox</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Inbox into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;Inbox&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read Inbox into dicts.</p>

<p>See <code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>
</div>


                </section>
                <section id="today">
                            <div class="attr function"><a class="headerlink" href="#today">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">today</span><span class="signature">(**kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">today</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Today&#39;s tasks into dicts.</span>

<span class="sd">    Note: The Things database reflects the state of the Things app when</span>
<span class="sd">    it was last opened. For the Today tasks that means the database</span>
<span class="sd">    might not be up to date anymore if you didn&#39;t open the app recently.</span>
<span class="sd">    To get around this limitation, we here make a prediction of what</span>
<span class="sd">    tasks would show up in Today if you were to open the app right now.</span>
<span class="sd">    This prediction does not include repeating tasks at this time.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;database&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">database</span>

    <span class="n">regular_today_tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
        <span class="n">start_date</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">start</span><span class="o">=</span><span class="s2">&quot;Anytime&quot;</span><span class="p">,</span>
        <span class="n">index</span><span class="o">=</span><span class="s2">&quot;todayIndex&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Predictions of new to-dos indicated by a yellow dot in the app.</span>

    <span class="n">unconfirmed_scheduled_tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
        <span class="n">start_date</span><span class="o">=</span><span class="s2">&quot;past&quot;</span><span class="p">,</span>
        <span class="n">start</span><span class="o">=</span><span class="s2">&quot;Someday&quot;</span><span class="p">,</span>
        <span class="n">index</span><span class="o">=</span><span class="s2">&quot;todayIndex&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">unconfirmed_overdue_tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span>
        <span class="n">start_date</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">deadline</span><span class="o">=</span><span class="s2">&quot;past&quot;</span><span class="p">,</span>
        <span class="n">deadline_suppressed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">[</span>
        <span class="o">*</span><span class="n">regular_today_tasks</span><span class="p">,</span>
        <span class="o">*</span><span class="n">unconfirmed_scheduled_tasks</span><span class="p">,</span>
        <span class="o">*</span><span class="n">unconfirmed_overdue_tasks</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">result</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">task</span><span class="p">:</span> <span class="p">(</span><span class="n">task</span><span class="p">[</span><span class="s2">&quot;today_index&quot;</span><span class="p">],</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;start_date&quot;</span><span class="p">]))</span>

    <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read Today's tasks into dicts.</p>

<p>Note: The Things database reflects the state of the Things app when
it was last opened. For the Today tasks that means the database
might not be up to date anymore if you didn't open the app recently.
To get around this limitation, we here make a prediction of what
tasks would show up in Today if you were to open the app right now.
This prediction does not include repeating tasks at this time.</p>

<p>See <code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>
</div>


                </section>
                <section id="upcoming">
                            <div class="attr function"><a class="headerlink" href="#upcoming">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">upcoming</span><span class="signature">(**kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">upcoming</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Upcoming tasks into dicts.</span>

<span class="sd">    Note: unscheduled tasks with a deadline are not included here.</span>
<span class="sd">    See the `things.api.deadline` function instead.</span>

<span class="sd">    For details on parameters, see `things.api.tasks`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">start_date</span><span class="o">=</span><span class="s2">&quot;future&quot;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s2">&quot;Someday&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read Upcoming tasks into dicts.</p>

<p>Note: unscheduled tasks with a deadline are not included here.
See the <code><a href="#deadline">things.api.deadline</a></code> function instead.</p>

<p>For details on parameters, see <code><a href="#tasks">things.api.tasks</a></code>.</p>
</div>


                </section>
                <section id="anytime">
                            <div class="attr function"><a class="headerlink" href="#anytime">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">anytime</span><span class="signature">(**kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">anytime</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Anytime tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;Anytime&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read Anytime tasks into dicts.</p>

<p>See <code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>
</div>


                </section>
                <section id="someday">
                            <div class="attr function"><a class="headerlink" href="#someday">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">someday</span><span class="signature">(**kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">someday</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Someday tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">start_date</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s2">&quot;Someday&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read Someday tasks into dicts.</p>

<p>See <code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>
</div>


                </section>
                <section id="logbook">
                            <div class="attr function"><a class="headerlink" href="#logbook">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">logbook</span><span class="signature">(**kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">logbook</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Logbook tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">canceled</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">),</span> <span class="o">*</span><span class="n">completed</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)]</span>
    <span class="n">result</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">task</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;stop_date&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read Logbook tasks into dicts.</p>

<p>See <code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>
</div>


                </section>
                <section id="trash">
                            <div class="attr function"><a class="headerlink" href="#trash">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">trash</span><span class="signature">(**kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">trash</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read Trash tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span>
        <span class="n">trashed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">context_trashed</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;context_trashed&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="n">status</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read Trash tasks into dicts.</p>

<p>See <code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>
</div>


                </section>
                <section id="canceled">
                            <div class="attr function"><a class="headerlink" href="#canceled">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">canceled</span><span class="signature">(**kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">canceled</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read canceled tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s2">&quot;canceled&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read canceled tasks into dicts.</p>

<p>See <code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>
</div>


                </section>
                <section id="completed">
                            <div class="attr function"><a class="headerlink" href="#completed">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">completed</span><span class="signature">(**kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">completed</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read completed tasks into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.completed(count_only=True)</span>
<span class="sd">    10</span>
<span class="sd">    &gt;&gt;&gt; things.completed(type=&#39;project&#39;, count_only=True)</span>
<span class="sd">    0</span>
<span class="sd">    &gt;&gt;&gt; things.completed(type=&#39;to-do&#39;, last=&#39;1w&#39;)</span>
<span class="sd">    []</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">tasks</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s2">&quot;completed&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read completed tasks into dicts.</p>

<p>See <code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>

<h6 id="examples">Examples</h6>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">completed</span><span class="p">(</span><span class="n">count_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">completed</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="n">count_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">completed</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;to-do&#39;</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="s1">&#39;1w&#39;</span><span class="p">)</span>
<span class="go">[]</span>
</code></pre></div>
</div>


                </section>
                <section id="deadlines">
                            <div class="attr function"><a class="headerlink" href="#deadlines">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">deadlines</span><span class="signature">(**kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">deadlines</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read tasks with deadlines into dicts.</span>

<span class="sd">    See `things.api.tasks` for details on the optional parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span><span class="n">deadline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">result</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">task</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;deadline&quot;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read tasks with deadlines into dicts.</p>

<p>See <code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>
</div>


                </section>
                <section id="last">
                            <div class="attr function"><a class="headerlink" href="#last">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">last</span><span class="signature">(offset, **kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">last</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read tasks created within last X days, weeks, or years into dicts.</span>

<span class="sd">    Per default, only incomplete tasks are included, but do see</span>
<span class="sd">    `things.api.tasks` for details on the optional parameters.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    offset : str</span>
<span class="sd">        A valid date offset such as &#39;3d&#39;, &#39;5w&#39;, or &#39;1y&#39;.</span>
<span class="sd">        For details, see the `last` parameter of `things.api.tasks`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list of dict</span>
<span class="sd">        Tasks within offset ordered by creation date. Newest first.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; things.last(&#39;3d&#39;)</span>
<span class="sd">    []</span>
<span class="sd">    &gt;&gt;&gt; things.last(&#39;1w&#39;, status=&#39;completed&#39;)</span>
<span class="sd">    []</span>
<span class="sd">    &gt;&gt;&gt; things.last(&#39;1y&#39;, tag=&#39;Important&#39;, status=&#39;completed&#39;, count_only=True)</span>
<span class="sd">    0</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">offset</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid offset type: </span><span class="si">{</span><span class="n">offset</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">tasks</span><span class="p">(</span><span class="n">last</span><span class="o">=</span><span class="n">offset</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
        <span class="n">result</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">task</span><span class="p">:</span> <span class="n">task</span><span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read tasks created within last X days, weeks, or years into dicts.</p>

<p>Per default, only incomplete tasks are included, but do see
<code><a href="#tasks">things.api.tasks</a></code> for details on the optional parameters.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>offset</strong> (str):
A valid date offset such as '3d', '5w', or '1y'.
For details, see the <code><a href="#last">last</a></code> parameter of <code><a href="#tasks">things.api.tasks</a></code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list of dict</strong>: Tasks within offset ordered by creation date. Newest first.</li>
</ul>

<h6 id="examples">Examples</h6>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="s1">&#39;1w&#39;</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="s1">&#39;completed&#39;</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="s1">&#39;1y&#39;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s1">&#39;Important&#39;</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="n">count_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">0</span>
</code></pre></div>
</div>


                </section>
                <section id="token">
                            <div class="attr function"><a class="headerlink" href="#token">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">token</span><span class="signature">(**kwargs) -&gt; Optional[str]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">token</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read the Things URL scheme authentication token.</span>

<span class="sd">    You can make good use of this token to modify existing Things data</span>
<span class="sd">    using the Things URL Scheme. For details, see</span>
<span class="sd">    [here](https://culturedcode.com/things/help/url-scheme/).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">database</span><span class="o">.</span><span class="n">get_url_scheme_auth_token</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Read the Things URL scheme authentication token.</p>

<p>You can make good use of this token to modify existing Things data
using the Things URL Scheme. For details, see
<a href="https://culturedcode.com/things/help/url-scheme/">here</a>.</p>
</div>


                </section>
                <section id="link">
                            <div class="attr function"><a class="headerlink" href="#link">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">link</span><span class="signature">(uuid)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">link</span><span class="p">(</span><span class="n">uuid</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a things:///show?id=uuid link.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;things:///show?id=</span><span class="si">{</span><span class="n">uuid</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Return a things:///show?id=uuid link.</p>
</div>


                </section>
                <section id="show">
                            <div class="attr function"><a class="headerlink" href="#show">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">show</span><span class="signature">(uuid)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="n">uuid</span><span class="p">):</span>  <span class="c1"># noqa</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Show a certain uuid in the Things app.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    uuid : str</span>
<span class="sd">        A valid uuid of any Things object.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; tag = things.tags(&#39;Home&#39;)</span>
<span class="sd">    &gt;&gt;&gt; things.show(tag[&#39;uuid&#39;])  # doctest: +SKIP</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">uri</span> <span class="o">=</span> <span class="n">link</span><span class="p">(</span><span class="n">uuid</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;open </span><span class="si">{</span><span class="n">quote</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Show a certain uuid in the Things app.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>uuid</strong> (str):
A valid uuid of any Things object.</li>
</ul>

<h6 id="examples">Examples</h6>

<div class="codehilite"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">tag</span> <span class="o">=</span> <span class="n">things</span><span class="o">.</span><span class="n">tags</span><span class="p">(</span><span class="s1">&#39;Home&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">things</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">tag</span><span class="p">[</span><span class="s1">&#39;uuid&#39;</span><span class="p">])</span>  <span class="c1"># doctest: +SKIP</span>
</code></pre></div>
</div>


                </section>
                <section id="pop_database">
                            <div class="attr function"><a class="headerlink" href="#pop_database">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">pop_database</span><span class="signature">(kwargs)</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">pop_database</span><span class="p">(</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Instantiate non-default database from `kwargs` if provided.&quot;&quot;&quot;</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;filepath&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">database</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;database&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">print_sql</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;print_sql&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">database</span><span class="p">:</span>
        <span class="n">database</span> <span class="o">=</span> <span class="n">Database</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">filepath</span><span class="p">,</span> <span class="n">print_sql</span><span class="o">=</span><span class="n">print_sql</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">database</span>
</pre></div>

        </details>

            <div class="docstring"><p>Instantiate non-default database from <code>kwargs</code> if provided.</p>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.type) {
                    case "function":
                        heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span><span class="signature">(${doc.parameters.join(", ")})</span>`;
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.type}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>